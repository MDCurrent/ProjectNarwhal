{"version":3,"sources":["../src/Request.js"],"names":[],"mappings":";;;;AAIA;;;;;;;AAEA;;AACA;;AACA;;;;;;AAEO,MAAM,kBAAK,gBAAE,KAAF,CAAQ,CAAC,CAAD,EAAI,KAAJ,KAAc,EAAE,MAAF,CAAS,gBAAE,OAAF,CAAU,EAAC,KAAD,EAAV,CAAT,EAA6B,KAA7B,CAAmC,SAAnC,CAAtB,CAAX;;AAEA,MAAM,wCAAgB,gBAAE,KAAF,CAAQ,CAAC,OAAD,EAAU,MAAV,KAAqB;AACxD,SAAO,eAAE,MAAF,CAAU,QAAD,IAAc,QAAQ,MAAR,EAC3B,EAD2B,CACxB,MADwB,EACf,OAAD,IAAa,SAAS,MAAT,CAAgB,EAAC,OAAO,MAAR,EAAgB,OAAhB,EAAhB,CADG,EAE3B,EAF2B,CAExB,UAFwB,EAEX,OAAD,IAAa,SAAS,MAAT,CAAgB,EAAC,OAAO,UAAR,EAAoB,OAApB,EAAhB,CAFD,EAG3B,EAH2B,CAGxB,UAHwB,EAGZ,MAAM,SAAS,WAAT,EAHM,EAI3B,EAJ2B,CAIxB,OAJwB,EAId,KAAD,IAAW,SAAS,OAAT,CAAiB,KAAjB,CAJI,CAAvB,CAAP;AAMD,CAP4B,CAAtB;;AASA,MAAM,4BAAU,gBAAE,KAAF,CAAQ,CAAC,OAAD,EAAU,MAAV,KAAqB;AAClD,QAAM,YAAY,GAAG,cAAc,OAAd,EAAuB,MAAvB,CAAH,CAAlB;AACA,SAAO,gBAAI;AACT,eAAW,UAAU,UAAV,CADF;AAET,WAAO,UAAU,MAAV;AAFE,GAAJ,CAAP;AAID,CANsB,CAAhB","file":"Request.js","sourcesContent":["/**\n * Created by tushar.mathur on 18/06/16.\n */\n\n'use strict'\n\nimport {Observable as O} from 'rx'\nimport {mux} from 'muxer'\nimport R from 'ramda'\n\nexport const ev = R.curry(($, event) => $.filter(R.whereEq({event})).pluck('message'))\n\nexport const RequestParams = R.curry((request, params) => {\n  return O.create((observer) => request(params)\n    .on('data', (message) => observer.onNext({event: 'data', message}))\n    .on('response', (message) => observer.onNext({event: 'response', message}))\n    .on('complete', () => observer.onCompleted())\n    .on('error', (error) => observer.onError(error))\n  )\n})\n\nexport const Request = R.curry((request, params) => {\n  const Response$ = ev(RequestParams(request, params))\n  return mux({\n    response$: Response$('response'),\n    data$: Response$('data')\n  })\n})\n"]}